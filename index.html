<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NG Toys</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins}
body{background:linear-gradient(135deg,#cdbbff,#efe9ff)}

.navbar{display:flex;justify-content:space-between;align-items:center;padding:22px 60px}
.logo{font-size:28px;font-weight:700}
.btn{padding:12px 28px;border-radius:30px;border:none;cursor:pointer;font-weight:600}
.primary{background:#6c55ff;color:white}
.outline{background:white;color:#6c55ff}

.hero{
  max-width:1200px;margin:40px auto;padding:80px;
  background:white;border-radius:40px;
  display:grid;grid-template-columns:1fr 1fr;
  gap:40px;box-shadow:0 60px 140px rgba(0,0,0,.2)
}

#canvasWrap{display:flex;justify-content:center}

.controls button{
  margin:6px;padding:10px 18px;border-radius:20px;
  border:none;background:#6c55ff;color:white;cursor:pointer
}
</style>
</head>

<body>

<div class="navbar">
  <div class="logo">NG Toys ðŸ§¸</div>
  <div>
    <a href="login.html" class="btn outline">Login</a>
    <a href="register.html" class="btn primary">Register</a>
  </div>
</div>

<div class="hero">
  <div>
    <h1>Interactive Puzzle Cube</h1>
    <p>Smart 3D puzzle toy for kids</p>
    <h2>â‚¹999</h2>
    <button class="btn primary" onclick="buyToy(999)">Buy Now</button>

    <div class="controls">
      <button onclick="rotate('x')">Rotate X</button>
      <button onclick="rotate('y')">Rotate Y</button>
      <button onclick="rotate('z')">Rotate Z</button>
    </div>
  </div>

  <div id="canvasWrap"></div>
</div>

<script>
/* PAYMENT */
async function buyToy(amount){
  const res = await fetch(
    "https://toy-backend-os0m.onrender.com/api/payment/create-order",
    {
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body: JSON.stringify({ amount })
    }
  );
  const order = await res.json();

  new Razorpay({
    key:"rzp_test_1DP5mmOlF5G5ag",
    amount:order.amount,
    currency:"INR",
    name:"NG Toys",
    order_id:order.id,
    handler:()=>alert("Payment Successful âœ…")
  }).open();
}

/* 3D PUZZLE */
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(60,1,0.1,1000);
camera.position.z=6;

const renderer=new THREE.WebGLRenderer({antialias:true,alpha:true});
renderer.setSize(360,360);
document.getElementById("canvasWrap").appendChild(renderer.domElement);

scene.add(new THREE.AmbientLight(0xffffff,.6));
const light=new THREE.DirectionalLight(0xffffff,1);
light.position.set(5,5,5);scene.add(light);

const cubeGroup=new THREE.Group();
const colors=[0xff0000,0x00ff00,0x0000ff,0xffff00,0xff8000,0xffffff];

for(let x=-1;x<=1;x++)
for(let y=-1;y<=1;y++)
for(let z=-1;z<=1;z++){
  const cube=new THREE.Mesh(
    new THREE.BoxGeometry(0.9,0.9,0.9),
    new THREE.MeshStandardMaterial({color:colors[Math.random()*6|0]})
  );
  cube.position.set(x,y,z);
  cubeGroup.add(cube);
}
scene.add(cubeGroup);

function rotate(axis){ cubeGroup.rotation[axis]+=Math.PI/2 }

(function animate(){
  requestAnimationFrame(animate);
  renderer.render(scene,camera);
})();
</script>

</body>
</html>
